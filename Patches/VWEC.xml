<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Weapons Expanded - Coilguns</li>
		</mods>

		<match Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationAdd">

					<xpath>/Defs</xpath>
					<value>
	<ThingDef ParentName="BaseHumanMakeableGun">
		<defName>VWEFT_Gun_GaussRevolver</defName>
		<label>gauss revolver</label>
		<description>A spacer-tech revolver for that frontier feel with high-tech power. A coil-array accelerates single shots capable of popping the heads of multiple ne'er do wells in a neat line.\n\nJust like its conventional counterpart, this gun supposedly is capable of incredibly lucky shots.</description>
		<techLevel>Spacer</techLevel>
		<graphicData>
			<texPath>Things/Item/Equipment/WeaponRanged/Coilguns/CoilgunRevolver</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>VWE_Interact_GaussMagnum</soundInteract>
		<statBases>
			<WorkToMake>42000</WorkToMake>
			<Mass>2.2</Mass>
			<AccuracyTouch>0.65</AccuracyTouch>
			<AccuracyShort>0.75</AccuracyShort>
			<AccuracyMedium>0.65</AccuracyMedium>
			<AccuracyLong>0.45</AccuracyLong>
			<RangedWeapon_Cooldown>1.60</RangedWeapon_Cooldown>
		</statBases>
		<recipeMaker>
			<researchPrerequisite>VWE_MassDrivers</researchPrerequisite>
			<skillRequirements>
				<Crafting>6</Crafting>
			</skillRequirements>
			<recipeUsers Inherit="False">
				<li>FabricationBench</li>
			</recipeUsers>
		</recipeMaker>
		<costList>
			<Steel>50</Steel>
			<Uranium>15</Uranium>
			<ComponentSpacer>1</ComponentSpacer>
			<Gold>1</Gold>
		</costList>
		<thingSetMakerTags>
			<li>RewardStandardLowFreq</li>
			<li>RewardStandardQualitySuper</li>
		</thingSetMakerTags>
		<weaponTags>
			<li>FrontierCoilguns</li>
		</weaponTags>
		<generateCommonality>0.1</generateCommonality>
		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>VWEFT_Bullet_GaussRevolver</defaultProjectile>
				<warmupTime>0.5</warmupTime>
				<range>25.9</range>
				<soundCast>VWE_Shot_GaussMagnum</soundCast>
				<soundCastTail>GunTail_Light</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
          <canTargetPawns>true</canTargetPawns>
          <canTargetBuildings>true</canTargetBuildings>
        </targetParams>
			</li>
		</verbs>
		<tools>
			<li>
				<label>grip</label>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>10</power>
				<cooldownTime>2</cooldownTime>
			</li>
			<li>
				<label>barrel</label>
				<capacities>
					<li>Blunt</li>
					<li>Poke</li>
				</capacities>
				<power>10</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
		<comps>
		</comps>
	</ThingDef>

	<VFECore.ExpandableProjectileDef ParentName="BaseBullet">
		<defName>VWEFT_Bullet_GaussRevolver</defName>
		<label>gauss revolver sabot</label>
		<projectile>
			<damageDef>Bullet</damageDef>
			<damageAmountBase>16</damageAmountBase>
			<armorPenetrationBase>0.50</armorPenetrationBase>
			<stoppingPower>1</stoppingPower>
			<speed>150</speed>
          <extraDamages>
       <li>
         <def>Bullet</def>
         <amount>16</amount>
         <chance>0.1</chance>
       </li>
          </extraDamages>
		</projectile>
		<thingClass>VFECore.GaussProjectile</thingClass>
		<graphicData>
			<texPath>Projectiles/Proj_CoilgunFadeIn</texPath>
			<texPathFadeOut>Projectiles/Proj_CoilgunFadeOut</texPathFadeOut>
		</graphicData>
		<reachMaxRangeAlways>true</reachMaxRangeAlways>
		<drawOffscreen>true</drawOffscreen>
		<lifeTimeDuration>50</lifeTimeDuration>
		<minDistanceToAffect>1.9</minDistanceToAffect>
		<widthScaleFactor>0.10</widthScaleFactor>
		<heightScaleFactor>1</heightScaleFactor>
		<startingPositionOffset>(0,0,-1)</startingPositionOffset>
		<totalSizeScale>0.8</totalSizeScale>
		<tickFrameRate>2</tickFrameRate>
		<finalTickFrameRate>2</finalTickFrameRate>
		<tickDamageRate>5</tickDamageRate>
		<dealsDamageOnce>true</dealsDamageOnce>
		<stopWhenHit>false</stopWhenHit>
		<stopWhenHitAt>
			<li>MineableSteel</li>
			<li>CollapsedRocks</li>
			<li>MineableSilver</li>
			<li>MineableGold</li>
			<li>MineableUranium</li>
			<li>MineablePlasteel</li>
			<li>MineableJade</li>
			<li>MineableComponentsIndustrial</li>
			<li>RaisedRocks</li>
			<li>Sandstone</li>
			<li>SmoothedSandstone</li>
			<li>Granite</li>
			<li>SmoothedGranite</li>
			<li>Limestone</li>
			<li>SmoothedLimestone</li>
			<li>Slate</li>
			<li>SmoothedSlate</li>
			<li>Marble</li>
			<li>SmoothedMarble</li>
		</stopWhenHitAt>
	</VFECore.ExpandableProjectileDef>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">

					<xpath>/Defs</xpath>
					<value>
	<ThingDef ParentName="BaseHumanMakeableGun">
		<defName>VWEFT_Gun_GaussRepeater</defName>
		<label>gauss repeater</label>
		<description>A spacer-tech gauss rifle themed as a steamworld-inspired repeater. A set of coils accelerate terromagnetic sabots capable of penetrating multiple layers of flesh and armor.\n\nJust like its conventional counterpart, this gun supposedly is capable of incredibly lucky shots.</description>
		<techLevel>Spacer</techLevel>
		<graphicData>
			<texPath>Things/Item/Equipment/WeaponRanged/Coilguns/CoilgunRepeater</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>VWE_Interact_GaussRifle</soundInteract>
		<statBases>
			<WorkToMake>44000</WorkToMake>
			<Mass>5</Mass>
			<AccuracyTouch>0.53</AccuracyTouch>
			<AccuracyShort>0.62</AccuracyShort>
			<AccuracyMedium>0.68</AccuracyMedium>
			<AccuracyLong>0.48</AccuracyLong>
			<RangedWeapon_Cooldown>1.8</RangedWeapon_Cooldown>
		</statBases>
		<recipeMaker>
			<researchPrerequisite>VWE_MassDrivers</researchPrerequisite>
			<skillRequirements>
				<Crafting>7</Crafting>
			</skillRequirements>
			<recipeUsers Inherit="False">
				<li>FabricationBench</li>
			</recipeUsers>
		</recipeMaker>
		<costList>
			<Steel>90</Steel>
			<Uranium>25</Uranium>
			<ComponentSpacer>2</ComponentSpacer>
			<Gold>2</Gold>
		</costList>
		<thingSetMakerTags>
			<li>RewardStandardLowFreq</li>
			<li>RewardStandardQualitySuper</li>
		</thingSetMakerTags>
		<weaponTags>
			<li>FrontierCoilguns</li>
		</weaponTags>
		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>VWEFT_Bullet_GaussRepeater</defaultProjectile>
				<warmupTime>1.6</warmupTime>
				<range>30.9</range>
				<ticksBetweenBurstShots>10</ticksBetweenBurstShots>
				<burstShotCount>1</burstShotCount>
				<soundCast>VWE_Shot_GaussRifle</soundCast>
				<soundCastTail>GunTail_Medium</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
          <canTargetPawns>true</canTargetPawns>
          <canTargetBuildings>true</canTargetBuildings>
        </targetParams>
			</li>
		</verbs>
		<tools>
			<li>
				<label>stock</label>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
			<li>
				<label>barrel</label>
				<capacities>
					<li>Blunt</li>
					<li>Poke</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
		<comps>
		</comps>
	</ThingDef>

	<VFECore.ExpandableProjectileDef ParentName="BaseBullet">
		<defName>VWEFT_Bullet_GaussRepeater</defName>
		<label>gauss repeater sabot</label>
		<projectile>
			<damageDef>Bullet</damageDef>
			<damageAmountBase>14</damageAmountBase>
			<armorPenetrationBase>0.50</armorPenetrationBase>
			<stoppingPower>1</stoppingPower>
			<speed>150</speed>
          <extraDamages>
       <li>
         <def>Bullet</def>
         <amount>14</amount>
         <chance>0.1</chance>
       </li>
          </extraDamages>
		</projectile>
		<thingClass>VFECore.GaussProjectile</thingClass>
		<graphicData>
			<texPath>Projectiles/Proj_CoilgunFadeIn</texPath>
			<texPathFadeOut>Projectiles/Proj_CoilgunFadeOut</texPathFadeOut>
		</graphicData>
		<reachMaxRangeAlways>true</reachMaxRangeAlways>
		<minDistanceToAffect>1.9</minDistanceToAffect>
		<drawOffscreen>true</drawOffscreen>
		<lifeTimeDuration>50</lifeTimeDuration>
		<widthScaleFactor>0.10</widthScaleFactor>
		<heightScaleFactor>1</heightScaleFactor>
		<startingPositionOffset>(0,0,-1)</startingPositionOffset>
		<totalSizeScale>0.8</totalSizeScale>
		<tickFrameRate>2</tickFrameRate>
		<finalTickFrameRate>2</finalTickFrameRate>
		<tickDamageRate>5</tickDamageRate>
		<dealsDamageOnce>true</dealsDamageOnce>
		<stopWhenHit>false</stopWhenHit>
		<stopWhenHitAt>
			<li>MineableSteel</li>
			<li>CollapsedRocks</li>
			<li>MineableSilver</li>
			<li>MineableGold</li>
			<li>MineableUranium</li>
			<li>MineablePlasteel</li>
			<li>MineableJade</li>
			<li>MineableComponentsIndustrial</li>
			<li>RaisedRocks</li>
			<li>Sandstone</li>
			<li>SmoothedSandstone</li>
			<li>Granite</li>
			<li>SmoothedGranite</li>
			<li>Limestone</li>
			<li>SmoothedLimestone</li>
			<li>Slate</li>
			<li>SmoothedSlate</li>
			<li>Marble</li>
			<li>SmoothedMarble</li>
		</stopWhenHitAt>
	</VFECore.ExpandableProjectileDef>
					</value>
				</li>
			</operations>
		</match>
	</Operation>


</Patch>